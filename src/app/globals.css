@import "tailwindcss";

/* ==========================================================================
   Harvest Hug + Brick Color Palette
   From DESIGN-TOKENS.md (LOCKED)
   ========================================================================== */

:root {
  /* App Shell Layout */
  --header-height: 60px;
  --bottom-nav-height: 76px;
  --safe-area-bottom: env(safe-area-inset-bottom, 0px);
  --bottom-nav-total: calc(var(--bottom-nav-height) + var(--safe-area-bottom));

  /* Content area spacing - use this for padding-bottom on scrollable content */
  --content-bottom-spacing: var(--bottom-nav-total);

  /* Fonts */
  --font-heading: 'Lora', Georgia, serif;
  --font-sans: 'Plus Jakarta Sans', system-ui, sans-serif;

  /* Light Mode Colors (default) */
  --color-primary: #E2A93B;      /* Gold — secondary buttons, accents */
  --color-primary-tint: rgba(226, 169, 59, 0.1); /* Gold tint for highlighted cards */
  --color-secondary: #4F6E44;    /* Sage Green — primary "go" actions */
  --color-danger: #B94A34;       /* Brick Red — alerts, destructive */
  --color-danger-deep: #8E3524;
  --color-danger-tint: #F1D1C7;
  --color-danger-light: #ef4444; /* Red for missing/error states */
  --color-danger-light-tint: rgba(239, 68, 68, 0.15); /* Light red background */
  --color-success: #4caf50;      /* Green for positive/available states */
  --color-success-tint: rgba(76, 175, 80, 0.15); /* Light green background */
  --color-warning: #ff9800;      /* Orange for medium effort states */
  --color-warning-tint: rgba(255, 152, 0, 0.2); /* Light orange background */
  --color-bg: #FAF3E6;           /* Page background */
  --color-card: #F3E8D6;         /* Card backgrounds */
  --color-text: #2B221A;         /* Primary text */
  --color-muted: #6B5C4D;        /* Secondary/muted text */
  --color-border: #D8CBB6;       /* Borders, dividers */

  /* Background/foreground aliases */
  --background: var(--color-bg);
  --foreground: var(--color-text);
}

/* Dark mode via class (for manual toggle) */
.dark {
  --color-primary-tint: rgba(226, 169, 59, 0.15); /* Gold tint adjusted for dark */
  --color-secondary: #6F8F5E;    /* Sage Green (lighter for dark bg) */
  --color-danger-tint: #3A1B1B;
  --color-danger-light: #f87171; /* Red-400 for better dark mode contrast */
  --color-danger-light-tint: rgba(248, 113, 113, 0.2); /* Light red for dark mode */
  --color-success: #4ade80;      /* Green-400 for better dark mode contrast */
  --color-success-tint: rgba(74, 222, 128, 0.15); /* Light green for dark mode */
  --color-warning: #fb923c;      /* Orange-400 for better dark mode contrast */
  --color-warning-tint: rgba(251, 146, 60, 0.2); /* Light orange for dark mode */
  --color-bg: #17120E;           /* Page background */
  --color-card: #221A14;         /* Card backgrounds */
  --color-text: #F6EDE0;         /* Primary text */
  --color-muted: #CBBBA3;        /* Secondary/muted text */
  --color-border: #3A2D23;       /* Borders, dividers */

  --background: var(--color-bg);
  --foreground: var(--color-text);
}

/* Also respect system preference when no explicit class */
@media (prefers-color-scheme: dark) {
  :root:not(.light) {
    --color-primary-tint: rgba(226, 169, 59, 0.15);
    --color-secondary: #6F8F5E;
    --color-danger-tint: #3A1B1B;
    --color-danger-light: #f87171;
    --color-danger-light-tint: rgba(248, 113, 113, 0.2);
    --color-success: #4ade80;
    --color-success-tint: rgba(74, 222, 128, 0.15);
    --color-warning: #fb923c;
    --color-warning-tint: rgba(251, 146, 60, 0.2);
    --color-bg: #17120E;
    --color-card: #221A14;
    --color-text: #F6EDE0;
    --color-muted: #CBBBA3;
    --color-border: #3A2D23;

    --background: var(--color-bg);
    --foreground: var(--color-text);
  }
}

@theme inline {
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --font-sans: var(--font-sans);
  --font-heading: var(--font-heading);

  /* Custom colors for Tailwind */
  --color-primary: var(--color-primary);
  --color-primary-tint: var(--color-primary-tint);
  --color-secondary: var(--color-secondary);
  --color-danger: var(--color-danger);
  --color-danger-deep: var(--color-danger-deep);
  --color-danger-tint: var(--color-danger-tint);
  --color-danger-light: var(--color-danger-light);
  --color-danger-light-tint: var(--color-danger-light-tint);
  --color-success: var(--color-success);
  --color-success-tint: var(--color-success-tint);
  --color-warning: var(--color-warning);
  --color-warning-tint: var(--color-warning-tint);
  --color-harvest-bg: var(--color-bg);
  --color-harvest-card: var(--color-card);
  --color-harvest-text: var(--color-text);
  --color-harvest-muted: var(--color-muted);
  --color-harvest-border: var(--color-border);
}

body {
  background: var(--background);
  color: var(--foreground);
  font-family: var(--font-sans);
}

/* ==========================================================================
   Button Styles — Per DESIGN-TOKENS.md
   - Green (#4F6E44) = Primary positive actions ("Make it", "Confirm", "Save")
   - Gold (#E2A93B) = Secondary actions ("Swap", "Change", "Edit")
   - Red (#B94A34) = Danger/Destructive ("Delete", "Remove")
   ========================================================================== */

/* Base button styles */
.btn {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: 0.5rem;
  padding: 0.75rem 1.5rem;
  font-size: 1rem;
  font-weight: 500;
  font-family: var(--font-sans);
  border-radius: 0.5rem;
  border: none;
  cursor: pointer;
  transition: all 0.15s ease-in-out;
}

.btn:disabled {
  opacity: 0.6;
  cursor: not-allowed;
}

/* Primary Positive — Sage Green (#4F6E44) */
.btn-primary {
  background-color: var(--color-secondary);
  color: white;
}

.btn-primary:hover:not(:disabled) {
  background-color: #3d5735;
}

.btn-primary:active:not(:disabled) {
  background-color: #324a2c;
}

/* Secondary Action — Gold (#E2A93B) */
.btn-secondary {
  background-color: var(--color-primary);
  color: #2B221A;
}

.btn-secondary:hover:not(:disabled) {
  background-color: #c99430;
}

.btn-secondary:active:not(:disabled) {
  background-color: #b08228;
}

/* Danger/Destructive — Brick Red (#B94A34) */
.btn-danger {
  background-color: var(--color-danger);
  color: white;
}

.btn-danger:hover:not(:disabled) {
  background-color: #9e3f2d;
}

.btn-danger:active:not(:disabled) {
  background-color: #843426;
}

/* Ghost Button — Transparent with border */
.btn-ghost {
  background-color: transparent;
  color: var(--color-text);
  border: 1px solid var(--color-border);
}

.btn-ghost:hover:not(:disabled) {
  background-color: var(--color-card);
}

.btn-ghost:active:not(:disabled) {
  background-color: var(--color-border);
}

/* Ghost Destructive — Transparent with red text */
.btn-ghost-destructive {
  background-color: transparent;
  color: var(--color-danger);
  border: 1px solid transparent;
}

.btn-ghost-destructive:hover:not(:disabled) {
  background-color: var(--color-danger-tint);
  border-color: var(--color-danger);
}

.btn-ghost-destructive:active:not(:disabled) {
  background-color: var(--color-danger);
  color: white;
}

/* ==========================================================================
   Layout Utilities — Bottom Nav Clearance
   Use these classes to ensure content doesn't get hidden behind the fixed
   bottom navigation bar.
   ========================================================================== */

/*
 * Apply to page containers that scroll.
 * Adds padding at the bottom equal to the nav bar height + safe area.
 */
.pb-nav {
  padding-bottom: var(--bottom-nav-total);
}

/*
 * For fixed elements that should sit above the bottom nav (like chat inputs).
 * Position the element's bottom edge at the top of the nav bar.
 */
.above-nav {
  bottom: var(--bottom-nav-total);
}
